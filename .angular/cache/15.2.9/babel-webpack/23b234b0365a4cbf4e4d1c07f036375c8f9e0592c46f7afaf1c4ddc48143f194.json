{"ast":null,"code":"import { NewOffrComponent } from '../new-offr/new-offr.component';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { ImgComponent } from '../img/img.component';\nimport { OffrEditComponent } from '../offr-edit/offr-edit.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../services/fetch.service\";\nimport * as i3 from \"../core/core.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/table\";\nimport * as i10 from \"@angular/material/sort\";\nfunction AdmViewComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Service No\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"warnClass\": a0\n  };\n};\nfunction AdmViewComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, row_r20.late));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r20.id, \" \");\n  }\n}\nfunction AdmViewComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r21.name, \"\");\n  }\n}\nfunction AdmViewComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28)(1, \"b\");\n    i0.ɵɵtext(2, \"Photo\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 27)(1, \"img\", 29);\n    i0.ɵɵlistener(\"click\", function AdmViewComponent_td_40_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const row_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.openImg(row_r22));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", row_r22.imgUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AdmViewComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Type\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r25.type, \"\");\n  }\n}\nfunction AdmViewComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Unit\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r26.unit, \"\");\n  }\n}\nfunction AdmViewComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Branch\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r27.branch, \" \");\n  }\n}\nfunction AdmViewComponent_th_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28)(1, \"b\");\n    i0.ɵɵtext(2, \"Password\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r28.password, \"\");\n  }\n}\nfunction AdmViewComponent_th_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"b\");\n    i0.ɵɵtext(2, \"Action\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_td_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 27)(1, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AdmViewComponent_td_55_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const row_r29 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.editOffr(row_r29, row_r29.type));\n    });\n    i0.ɵɵtext(2, \" Change Password \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function AdmViewComponent_td_55_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const row_r29 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.deleteOffr(row_r29.id, row_r29.type));\n    });\n    i0.ɵɵtext(4, \" Delete \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdmViewComponent_tr_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 32);\n  }\n}\nfunction AdmViewComponent_tr_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 33);\n  }\n}\nfunction AdmViewComponent_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 34)(1, \"td\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(29);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"No data matching the filter \\\"\", _r0.value, \"\\\"\");\n  }\n}\nexport let AdmViewComponent = /*#__PURE__*/(() => {\n  class AdmViewComponent {\n    constructor(_dialog, _empService, _coreService, router, activatedRoute) {\n      this._dialog = _dialog;\n      this._empService = _empService;\n      this._coreService = _coreService;\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n      this.displayedColumns = ['id', 'name', 'branch', 'unit', 'type', 'password', 'imageUrl', 'action'];\n    }\n    ngOnInit() {\n      this.getOfficersList();\n      this.user = history.state.user;\n    }\n    getOfficersList() {\n      this._empService.getOffrList().subscribe({\n        next: res => {\n          this.dataSource = new MatTableDataSource(res);\n          this.dataSource.sort = this.sort;\n          this.dataSource.paginator = this.paginator;\n        }\n      });\n    }\n    logout() {\n      this.router.navigate(['login']);\n    }\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n      if (this.dataSource.paginator) {\n        this.dataSource.paginator.firstPage();\n      }\n    }\n    openImg(data) {\n      const dialogRef = this._dialog.open(ImgComponent, {\n        data\n      });\n    }\n    create() {\n      const dialogRef = this._dialog.open(NewOffrComponent, {\n        data: {\n          user: this.user\n        }\n      });\n      dialogRef.afterClosed().subscribe({\n        next: val => {\n          if (val) {\n            this.getOfficersList();\n          }\n        }\n      });\n    }\n    deleteOffr(id, type) {\n      this._empService.deleteOffrById(id).subscribe({\n        next: res => {\n          this._coreService.openSnackBar('Officer deleted!', 'done');\n          this.getOfficersList();\n        },\n        error: console.log\n      });\n    }\n    editOffr(data, type) {\n      const dialogRef = this._dialog.open(OffrEditComponent, {\n        data: {\n          value: data,\n          type: type\n        }\n      });\n      dialogRef.afterClosed().subscribe({\n        next: val => {\n          if (val) {\n            this.getOfficersList();\n          }\n        }\n      });\n    }\n  }\n  AdmViewComponent.ɵfac = function AdmViewComponent_Factory(t) {\n    return new (t || AdmViewComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FetchService), i0.ɵɵdirectiveInject(i3.CoreService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n  };\n  AdmViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdmViewComponent,\n    selectors: [[\"app-adm-view\"]],\n    viewQuery: function AdmViewComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 59,\n    vars: 8,\n    consts: [[2, \"float\", \"left\", \"margin\", \"12px\", \"color\", \"#3f51b5\"], [\"alt\", \"Avatar\", 1, \"avatar1\", 3, \"src\"], [2, \"float\", \"right\", \"margin\", \"30px\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin\", \"2px\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 2, \"margin\", \"2px\", 3, \"click\"], [1, \"main-body\"], [\"matInput\", \"\", \"placeholder\", \"Ex. Mia\", 3, \"keyup\"], [\"input\", \"\"], [1, \"table-container\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"imageUrl\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"type\"], [\"matColumnDef\", \"unit\"], [\"matColumnDef\", \"branch\"], [\"matColumnDef\", \"password\"], [\"matColumnDef\", \"action\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\", 3, \"ngClass\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"alt\", \"Avatar\", 1, \"avatar\", 3, \"src\", \"click\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"color\", \"primary\", 2, \"margin-left\", \"1px\", \"margin-right\", \"1px\", 3, \"click\"], [\"mat-raised-button\", \"\", \"type\", \"button\", \"color\", \"warn\", 2, \"margin-left\", \"1px\", \"margin-right\", \"1px\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [\"colspan\", \"4\", 1, \"mat-cell\"]],\n    template: function AdmViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"b\");\n        i0.ɵɵtext(3, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"b\");\n        i0.ɵɵtext(7, \"Service No:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\")(10, \"b\");\n        i0.ɵɵtext(11, \"Branch: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\")(14, \"b\");\n        i0.ɵɵtext(15, \"Unit:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\");\n        i0.ɵɵelement(18, \"img\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 2)(20, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function AdmViewComponent_Template_button_click_20_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵtext(21, \"Create New Entry\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function AdmViewComponent_Template_button_click_22_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(23, \"Logout\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 5)(25, \"mat-form-field\")(26, \"mat-label\");\n        i0.ɵɵtext(27, \"Filter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keyup\", function AdmViewComponent_Template_input_keyup_28_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"div\", 8)(31, \"table\", 9);\n        i0.ɵɵelementContainerStart(32, 10);\n        i0.ɵɵtemplate(33, AdmViewComponent_th_33_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(34, AdmViewComponent_td_34_Template, 2, 4, \"td\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(35, 13);\n        i0.ɵɵtemplate(36, AdmViewComponent_th_36_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(37, AdmViewComponent_td_37_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 15);\n        i0.ɵɵtemplate(39, AdmViewComponent_th_39_Template, 3, 0, \"th\", 16);\n        i0.ɵɵtemplate(40, AdmViewComponent_td_40_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(41, 17);\n        i0.ɵɵtemplate(42, AdmViewComponent_th_42_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(43, AdmViewComponent_td_43_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(44, 18);\n        i0.ɵɵtemplate(45, AdmViewComponent_th_45_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(46, AdmViewComponent_td_46_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(47, 19);\n        i0.ɵɵtemplate(48, AdmViewComponent_th_48_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(49, AdmViewComponent_td_49_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(50, 20);\n        i0.ɵɵtemplate(51, AdmViewComponent_th_51_Template, 3, 0, \"th\", 16);\n        i0.ɵɵtemplate(52, AdmViewComponent_td_52_Template, 2, 1, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(53, 21);\n        i0.ɵɵtemplate(54, AdmViewComponent_th_54_Template, 3, 0, \"th\", 11);\n        i0.ɵɵtemplate(55, AdmViewComponent_td_55_Template, 5, 0, \"td\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(56, AdmViewComponent_tr_56_Template, 1, 0, \"tr\", 22);\n        i0.ɵɵtemplate(57, AdmViewComponent_tr_57_Template, 1, 0, \"tr\", 23);\n        i0.ɵɵtemplate(58, AdmViewComponent_tr_58_Template, 3, 1, \"tr\", 24);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.user.name, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.user.id, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.user.branch);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.user.unit, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.user.imgUrl, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      }\n    },\n    dependencies: [i5.NgClass, i6.MatButton, i7.MatFormField, i7.MatLabel, i8.MatInput, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow, i9.MatNoDataRow, i10.MatSort, i10.MatSortHeader],\n    styles: [\".avatar[_ngcontent-%COMP%]{vertical-align:middle;width:50px;height:50px;border-radius:50%}.avatar[_ngcontent-%COMP%]:hover{cursor:pointer}.avatar1[_ngcontent-%COMP%]{float:left;width:100px;height:100px;border-radius:50%}.tabs[_ngcontent-%COMP%]{list-style-type:none;display:flex;padding:0}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;padding:10px 20px;cursor:pointer;border:1px solid #ccc;background-color:#f0f0f0}.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-body[_ngcontent-%COMP%]{padding-top:20px;margin:0 auto;max-width:1348px}.main-body[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.action[_ngcontent-%COMP%]{display:flex;gap:5px}\"]\n  });\n  return AdmViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}